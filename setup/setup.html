<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Pipeline Setup | Cosigt documentation</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/cosigtdoc/assets/css/0.styles.3e9b6cb4.css" as="style"><link rel="preload" href="/cosigtdoc/assets/js/app.ea2c52ed.js" as="script"><link rel="preload" href="/cosigtdoc/assets/js/3.d0293945.js" as="script"><link rel="preload" href="/cosigtdoc/assets/js/2.bc6597f8.js" as="script"><link rel="preload" href="/cosigtdoc/assets/js/1.50924563.js" as="script"><link rel="preload" href="/cosigtdoc/assets/js/14.3e4a7b1f.js" as="script"><link rel="preload" href="/cosigtdoc/assets/js/55.37f9a0c0.js" as="script"><link rel="prefetch" href="/cosigtdoc/assets/js/10.cf03d8e5.js"><link rel="prefetch" href="/cosigtdoc/assets/js/11.8e68a12f.js"><link rel="prefetch" href="/cosigtdoc/assets/js/12.50592b84.js"><link rel="prefetch" href="/cosigtdoc/assets/js/13.374a5d22.js"><link rel="prefetch" href="/cosigtdoc/assets/js/15.da27eca8.js"><link rel="prefetch" href="/cosigtdoc/assets/js/18.fbf56f97.js"><link rel="prefetch" href="/cosigtdoc/assets/js/19.056f4829.js"><link rel="prefetch" href="/cosigtdoc/assets/js/20.65bea4bc.js"><link rel="prefetch" href="/cosigtdoc/assets/js/21.58f7b93d.js"><link rel="prefetch" href="/cosigtdoc/assets/js/22.71d7b881.js"><link rel="prefetch" href="/cosigtdoc/assets/js/23.91ce9f40.js"><link rel="prefetch" href="/cosigtdoc/assets/js/24.3a6270a5.js"><link rel="prefetch" href="/cosigtdoc/assets/js/25.3f12cfe1.js"><link rel="prefetch" href="/cosigtdoc/assets/js/26.8cb8c3ad.js"><link rel="prefetch" href="/cosigtdoc/assets/js/27.5dc334b8.js"><link rel="prefetch" href="/cosigtdoc/assets/js/28.3dd02697.js"><link rel="prefetch" href="/cosigtdoc/assets/js/29.296314f5.js"><link rel="prefetch" href="/cosigtdoc/assets/js/30.41b87e58.js"><link rel="prefetch" href="/cosigtdoc/assets/js/31.e72a3f75.js"><link rel="prefetch" href="/cosigtdoc/assets/js/32.42c91560.js"><link rel="prefetch" href="/cosigtdoc/assets/js/33.ac668601.js"><link rel="prefetch" href="/cosigtdoc/assets/js/34.0463d7d5.js"><link rel="prefetch" href="/cosigtdoc/assets/js/35.24faa46f.js"><link rel="prefetch" href="/cosigtdoc/assets/js/36.f7952011.js"><link rel="prefetch" href="/cosigtdoc/assets/js/37.3936cd98.js"><link rel="prefetch" href="/cosigtdoc/assets/js/38.39491dd7.js"><link rel="prefetch" href="/cosigtdoc/assets/js/39.fcf0b573.js"><link rel="prefetch" href="/cosigtdoc/assets/js/4.d4f0fa8b.js"><link rel="prefetch" href="/cosigtdoc/assets/js/40.75445b96.js"><link rel="prefetch" href="/cosigtdoc/assets/js/41.4a66e0c6.js"><link rel="prefetch" href="/cosigtdoc/assets/js/42.36ab31b3.js"><link rel="prefetch" href="/cosigtdoc/assets/js/43.b3673f5a.js"><link rel="prefetch" href="/cosigtdoc/assets/js/44.5de79b32.js"><link rel="prefetch" href="/cosigtdoc/assets/js/45.72b0a3d1.js"><link rel="prefetch" href="/cosigtdoc/assets/js/46.66c1744e.js"><link rel="prefetch" href="/cosigtdoc/assets/js/47.8c8ded00.js"><link rel="prefetch" href="/cosigtdoc/assets/js/48.6d3f1d90.js"><link rel="prefetch" href="/cosigtdoc/assets/js/49.d6f16c9e.js"><link rel="prefetch" href="/cosigtdoc/assets/js/5.80b2fab8.js"><link rel="prefetch" href="/cosigtdoc/assets/js/50.6d501467.js"><link rel="prefetch" href="/cosigtdoc/assets/js/51.928baf40.js"><link rel="prefetch" href="/cosigtdoc/assets/js/52.26d55b7a.js"><link rel="prefetch" href="/cosigtdoc/assets/js/53.f71c9efb.js"><link rel="prefetch" href="/cosigtdoc/assets/js/54.8a3f53e6.js"><link rel="prefetch" href="/cosigtdoc/assets/js/6.7b0da6a8.js"><link rel="prefetch" href="/cosigtdoc/assets/js/7.d7421304.js"><link rel="prefetch" href="/cosigtdoc/assets/js/8.d8702868.js"><link rel="prefetch" href="/cosigtdoc/assets/js/9.3f6bcb54.js"><link rel="prefetch" href="/cosigtdoc/assets/js/vendors~docsearch.d23114a2.js">
    <link rel="stylesheet" href="/cosigtdoc/assets/css/0.styles.3e9b6cb4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><!----> <header class="navbar"><div class="navbar-container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cosigtdoc/" class="home-link router-link-active"><!----> <span class="site-name">Cosigt documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" placeholder="Search" autocomplete="off" spellcheck="false" value=""> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="search-icon"><path d="M21.7,20.3L18,16.6c1.2-1.5,2-3.5,2-5.6c0-5-4-9-9-9c-5,0-9,4-9,9c0,5,4,9,9,9c2.1,0,4.1-0.7,5.6-2l3.7,3.7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3C22.1,21.3,22.1,20.7,21.7,20.3zM4,11c0-3.9,3.1-7,7-7c3.9,0,7,3.1,7,7c0,1.9-0.8,3.7-2,4.9c0,0,0,0,0,0s0,0,0,0c-1.3,1.3-3,2-4.9,2C7.1,18,4,14.9,4,11z"></path></svg> <span class="search-command-wrapper search-command"><span class="search-command-char">⌘</span> <span class="search-command-char">K</span></span> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cosigtdoc/" class="vp-link nav-link">
  Home
  </a></div><div class="nav-item"><a href="/cosigtdoc/contact/contact.html" class="vp-link nav-link">
  Contact
  </a></div><div class="nav-item"><a href="https://github.com/davidebolo1993/cosigt" target="_blank" class="vp-link external nav-link">
  GitHub
  <!----> </a></div> <div class="VPNavBarAppearance appearance" data-v-19d27b0e><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-19d27b0e><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <!----></nav></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cosigtdoc/" class="vp-link nav-link">
  Home
  </a></div><div class="nav-item"><a href="/cosigtdoc/contact/contact.html" class="vp-link nav-link">
  Contact
  </a></div><div class="nav-item"><a href="https://github.com/davidebolo1993/cosigt" target="_blank" class="vp-link external nav-link">
  GitHub
  <!----> </a></div> <div class="VPNavBarAppearance appearance" data-v-19d27b0e><button type="button" aria-label="toggle dark mode" class="vt-switch vt-switch-appearance" data-v-19d27b0e><span class="vt-switch-check"><span class="vt-switch-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-sun"><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path> <path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path> <path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path> <path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path> <path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path> <path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path> <path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path> <path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path> <path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="vt-switch-appearance-moon"><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg></span></span></button></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/cosigtdoc/introduction/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/cosigtdoc/setup/setup.html" aria-current="page" class="active sidebar-link">Pipeline Setup</a></li><li><a href="/cosigtdoc/workflow/workflow.html" class="sidebar-link">Workflow</a></li><li><a href="/cosigtdoc/usecases/usecases.html" class="sidebar-link">Use Cases</a></li><li><a href="/cosigtdoc/contact/contact.html" class="sidebar-link">Contact</a></li></ul> </aside> <main class="page setupsetup.html"> <div class="theme-default-content vp-doc content__default"><h1 id="pipeline-setup"><a href="#pipeline-setup" class="header-anchor">#</a> Pipeline Setup</h1> <p>This section provides detailed instructions for setting up the cosigt pipeline on your system.</p> <h2 id="prerequisites"><a href="#prerequisites" class="header-anchor">#</a> Prerequisites</h2> <p>Cosigt is built on version 7 of the popular <a href="https://snakemake.github.io" target="_blank" rel="noopener noreferrer">Snakemake<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> workflow management system. Detailed instructions for installing Snakemake are available in the <a href="https://snakemake.readthedocs.io/en/stable/getting_started/installation.html" target="_blank" rel="noopener noreferrer">official documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Below is a minimal installation script using <a href="https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html" target="_blank" rel="noopener noreferrer">micromamba<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>We have tested the cosigt pipeline with Snakemake version 7.32.4. At the time of writing, Snakemake has migrated to versions 8/9, introducing changes that we have not yet evaluated - therefore, versions &gt;=8 are not currently supported.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Install micromamba</span>
<span class="token string">&quot;<span class="token variable">${<span class="token environment constant">SHELL</span>}</span>&quot;</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-L</span> micro.mamba.pm/install.sh<span class="token punctuation">)</span>
<span class="token comment"># Create environment with Snakemake, Apptainer, and other dependencies</span>
micromamba create <span class="token punctuation">\</span>
    <span class="token parameter variable">-n</span> smk7324app132 <span class="token punctuation">\</span>
    bioconda::snakemake<span class="token operator">=</span><span class="token number">7.32</span>.4 <span class="token punctuation">\</span>
    conda-forge::apptainer<span class="token operator">=</span><span class="token number">1.3</span>.2 <span class="token punctuation">\</span>
    conda-forge::cookiecutter<span class="token operator">=</span><span class="token number">2.6</span>.0 <span class="token punctuation">\</span>
    conda-forge::gdown <span class="token comment">#only used to download the test dataset</span>
<span class="token comment"># Activate the environment</span>
micromamba activate smk7324app132
<span class="token comment"># Confirm successful installation</span>
snakemake <span class="token parameter variable">--version</span>
<span class="token comment"># 7.32.4</span>
singularity <span class="token parameter variable">--version</span>
<span class="token comment"># apptainer version 1.3.2</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The code above should automatically install <code>PyYAML</code> in the environment. If this package is missing, you can install it with <code>pip install PyYAML</code></p></div> <p>Cosigt combines numerous tools across different workflow branches, which can present setup challenges for some users. To simplify deployment and enhance reproducibility, we provide <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> containers with pre-compiled binaries for all required software. These containers are automatically managed by the pipeline when a working <a href="https://apptainer.org/" target="_blank" rel="noopener noreferrer">Apptainer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (formerly Singularity) installation is available. Alternatively, the pipeline can be run using dedicated <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/getting-started.html" target="_blank" rel="noopener noreferrer">Conda<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> environments, which are provided for each rule in the workflow. For users who prefer not to use Singularity or Conda, all <a href="#tools">required tools</a> must be manually installed and made available in the system <code>$PATH</code>.</p> <h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>Once the <a href="#prerequisites">prerequisites</a> are in place, clone the cosigt pipeline repository:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">git</span> clone https://github.com/davidebolo1993/cosigt
<span class="token builtin class-name">cd</span> cosigt/cosigt_smk
</code></pre></div><h3 id="job-submission-on-hpc"><a href="#job-submission-on-hpc" class="header-anchor">#</a> Job Submission on HPC</h3> <p>For users working with high-performance computing (HPC) clusters, we recommend creating a <a href="https://snakemake.readthedocs.io/en/stable/executing/cli.html#profiles" target="_blank" rel="noopener noreferrer">profile<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to manage job submission. For example, a cookiecutter profile for the SLURM workload manager is available <a href="https://github.com/Snakemake-Profiles/slurm" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and can be configured as follows:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">template</span><span class="token operator">=</span><span class="token string">&quot;gh:Snakemake-Profiles/slurm&quot;</span>
cookiecutter <span class="token punctuation">\</span>
    --output-dir config <span class="token punctuation">\</span>
    <span class="token variable">$template</span>
</code></pre></div><p>A sample configuration is shown below. Note that you may need to adjust these settings based on your specific cluster configuration:</p> <div class="language-txt extra-class"><pre class="language-txt"><code>[1/17] profile_name (slurm):
[2/17] Select use_singularity
    1 - False
    2 - True
    Choose from [1/2] (1): 2
[3/17] Select use_conda
    1 - False
    2 - True
    Choose from [1/2] (1): 1
[4/17] jobs (500):
[5/17] restart_times (0): 3
[6/17] max_status_checks_per_second (10):
[7/17] max_jobs_per_second (10):
[8/17] latency_wait (5): 30
[9/17] Select print_shell_commands
    1 - False
    2 - True
    Choose from [1/2] (1): 2
[10/17] sbatch_defaults (): partition=cpuq #other options like account, qos, etc. can be added here
[11/17] cluster_sidecar_help (Use cluster sidecar. NB! Requires snakemake &gt;= 7.0! Enter to continue...):
[12/17] Select cluster_sidecar
    1 - yes
    2 - no
    Choose from [1/2] (1): 1
[13/17] cluster_name ():
[14/17] cluster_jobname (%r_%w):
[15/17] cluster_logpath (logs/slurm/%r/%j):
[16/17] cluster_config_help (The use of cluster-config is discouraged. Rather, set snakemake CLI options in the profile configuration file (see snakemake documentation on best practices). Enter to continue...):
[17/17] cluster_config ():
</code></pre></div><p>This process will generate the following directory structure:</p> <div class="language-txt extra-class"><pre class="language-txt"><code>config/slurm
├── CookieCutter.py
├── config.yaml
├── settings.json
├── slurm-jobscript.sh
├── slurm-sidecar.py
├── slurm-status.py
├── slurm-submit.py
└── slurm_utils.py
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The configuration above enables running the cosigt pipeline using Docker containers through Singularity. If you prefer a Conda-based solution, change your answers in steps 2/17 and 3/17 accordingly, or modify the resulting <code>config/slurm/config.yaml</code> file with <code>use-singularity: &quot;False&quot;</code> and <code>use-conda: &quot;True&quot;</code>.</p></div> <p>Profiles for other cluster management systems can be found online (such as <a href="https://github.com/Christian-Heyer/snakemake-lsf" target="_blank" rel="noopener noreferrer">this one<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for LSF), though we have not tested them with this workflow.</p> <h3 id="organization-of-pipeline-input"><a href="#organization-of-pipeline-input" class="header-anchor">#</a> Organization of Pipeline Input</h3> <p>We provide a <a href="https://github.com/davidebolo1993/cosigt/blob/master/cosigt_smk/workflow/scripts/organize.py" target="_blank" rel="noopener noreferrer">Python script<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to automate the organization of folders and files used by the pipeline (see the <a href="/cosigtdoc/workflow/workflow.html">→ Workflow</a> section for a detailed description and <a href="/cosigtdoc/usecases/usecases.html">→ Use Cases</a> for examples). It is <strong>strongly recommended</strong> to use this script during setup, as our workflow strictly depends on the specific file structure it generates. Deviations from this structure may cause the pipeline to malfunction.</p> <h3 id="running-cosigt"><a href="#running-cosigt" class="header-anchor">#</a> Running Cosigt</h3> <p>The <a href="#organization-of-pipeline-input">Python script</a> generates a ready-to-use Bash script (<code>cosigt_smk.sh</code>) to run the cosigt pipeline through Singularity (or Conda). To run cosigt without using Singularity or Conda, ensure all necessary <a href="#tools">tools</a> are available in your <code>$PATH</code> and execute <code>snakemake cosigt -j &lt;cores&gt;</code>.</p> <h2 id="tools"><a href="#tools" class="header-anchor">#</a> Tools</h2> <p>Below is a list of tools and their versions used across all branches of the pipeline (in alphabetical order). These versions correspond to the latest release of the pipeline. For guidance on manual installation of most tools, refer to the Dockerfiles in <a href="https://github.com/davidebolo1993/cosigt_containers/tree/main" target="_blank" rel="noopener noreferrer">this repository<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <table><thead><tr><th>Tool</th> <th>Version/Commit</th></tr></thead> <tbody><tr><td><a href="https://github.com/arq5x/bedtools2" target="_blank" rel="noopener noreferrer">bedtools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v2.31.0</td></tr> <tr><td><a href="https://github.com/davidebolo1993/cosigt" target="_blank" rel="noopener noreferrer">cosigt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/pangenome/gafpack" target="_blank" rel="noopener noreferrer">gafpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/AndreaGuarracino/gfainject" target="_blank" rel="noopener noreferrer">gfainject<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/pangenome/impg" target="_blank" rel="noopener noreferrer">impg<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/lh3/minimap2" target="_blank" rel="noopener noreferrer">minimap2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v2.28</td></tr> <tr><td><a href="https://github.com/pangenome/odgi" target="_blank" rel="noopener noreferrer">odgi<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/pangenome/pggb" target="_blank" rel="noopener noreferrer">pggb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>vx.x.x</td></tr> <tr><td><a href="https://github.com/samtools/samtools" target="_blank" rel="noopener noreferrer">samtools<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v1.22</td></tr> <tr><td><a href="https://github.com/tobiasrausch/wally" target="_blank" rel="noopener noreferrer">wally<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v0.7.1</td></tr></tbody></table> <p>The reads-to-assemblies alignment step uses branch-specific tools:</p> <table><thead><tr><th>Tool</th> <th>Version/Commit</th> <th>Usage</th> <th>Branch</th></tr></thead> <tbody><tr><td><a href="https://github.com/lh3/bwa" target="_blank" rel="noopener noreferrer">bwa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v0.7.18</td> <td>short-reads, ancient genomes</td> <td>ancient_dna</td></tr> <tr><td><a href="https://github.com/bwa-mem2/bwa-mem2" target="_blank" rel="noopener noreferrer">bwa-mem2<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>v2.2.1</td> <td>short-reads, modern genomes</td> <td>master, custom_alleles</td></tr></tbody></table> <p>Various calculations and visualizations are performed in R using multiple libraries. A complete list of required R packages can be found <a href="https://github.com/davidebolo1993/cosigt_containers/blob/877bd1ecac86de8c1f079d08884c434c823786c7/renv/4.3.3/Dockerfile#L21-L50" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="installation-test"><a href="#installation-test" class="header-anchor">#</a> Installation Test</h2> <p>We provide a small test dataset to verify your installation, available for download <a href="https://drive.google.com/file/d/1RClqLk7pObNXmTNns3cyHtCwC_i3tnLP/view?usp=sharing" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. This dataset includes:</p> <ol><li>A small reference sequence (<code>genome/genome.fa</code>): a 2 Mbp fragment extracted from chromosome 22 of the human GRCh38 reference genome</li> <li>Five (simulated) assembled contigs (<code>assemblies/assemblies.fa</code>): each containing a single deletion relative to the reference, ranging from 10 to 50 Kbp</li> <li>Synthetic reads (<code>sample/sample.bam</code>): 50% derived from the reference sequence and 50% from the assembly with a 30 Kbp deletion</li> <li>A BED file (<code>region/region.bed</code>) defining the region of interest</li></ol> <p>To run the test:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># Working directory: cosigt/cosigt_smk</span>
micromamba activate smk7324app132
<span class="token comment"># Download test data using gdown</span>
gdown <span class="token string">&quot;https://drive.google.com/file/d/1RClqLk7pObNXmTNns3cyHtCwC_i3tnLP/view?usp=sharing&quot;</span> <span class="token parameter variable">-O</span> <span class="token punctuation">..</span>/cosigt.test.pack.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-xvf</span> <span class="token punctuation">..</span>/cosigt.test.pack.tar.gz <span class="token parameter variable">-C</span> <span class="token punctuation">..</span>/cosigt.test.pack
<span class="token comment"># Create minimal input mapping</span>
<span class="token assign-left variable">asm</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">find</span> <span class="token punctuation">..</span>/cosigt.test.pack <span class="token parameter variable">-name</span> <span class="token string">&quot;assemblies.fa&quot;</span> <span class="token parameter variable">-exec</span> readlink <span class="token parameter variable">-f</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;chr22<span class="token entity" title="\t">\t</span><span class="token variable">$asm</span>&quot;</span> <span class="token operator">&gt;</span> asm_map.tsv
<span class="token comment"># Run organize.py to prepare directory structure</span>
python workflow/scripts/organize.py <span class="token punctuation">\</span>
    <span class="token parameter variable">-a</span> asm_map.tsv <span class="token punctuation">\</span>
    <span class="token parameter variable">-g</span> <span class="token punctuation">..</span>/cosigt.test.pack/genome/genome.fa <span class="token punctuation">\</span>
    <span class="token parameter variable">-r</span> <span class="token punctuation">..</span>/cosigt.test.pack/sample <span class="token punctuation">\</span>
    <span class="token parameter variable">-b</span> <span class="token punctuation">..</span>/cosigt.test.pack/region/region.bed <span class="token punctuation">\</span>
    <span class="token parameter variable">-o</span> cosigt_test <span class="token punctuation">\</span>
    <span class="token parameter variable">--threads</span> <span class="token number">5</span>
<span class="token comment"># Run cosigt pipeline</span>
<span class="token function">sh</span> cosigt_smk.sh
</code></pre></div><p>After the initial pull of Singularity containers (a one-time operation if using the same base folder - containers will be stored in <code>cosigt/cosigt_smk/.snakemake/singularity</code>), the entire test should take approximately 1 minute to complete. The genotype results will be available in <code>cosigt_test/cosigt/sample/chr22/chr22_1000000_1060000/cosigt_genotype.tsv</code>, showing the genotype of <code>sample</code> in region <code>chr22:1000000-1060000</code>. The expected genotype reported by cosigt should be:</p> <div class="language-txt extra-class"><pre class="language-txt"><code>haplotype.1                haplotype.2
del#3#30k:1000001-1029999  ref#chr22:1000001-1060000
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><div class="inner"><a href="/cosigtdoc/introduction/introduction.html" class="vp-link prev"><span>←</span>
  Introduction
  <span><br> <span class="prev-link">/introduction/introduction.html</span></span></a> <a href="/cosigtdoc/workflow/workflow.html" class="vp-link next">
  Workflow
  <span>
        →
        <br> <span class="next-link">/workflow/workflow.html</span></span></a></div></div> </main> <div class="sticker vuepress-toc"><div class="on-this-page">ON THIS PAGE</div> <div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#prerequisites" title="Prerequisites">Prerequisites</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#configuration" title="Configuration">Configuration</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#job-submission-on-hpc" title="Job Submission on HPC">Job Submission on HPC</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#organization-of-pipeline-input" title="Organization of Pipeline Input">Organization of Pipeline Input</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#running-cosigt" title="Running Cosigt">Running Cosigt</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#tools" title="Tools">Tools</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#installation-test" title="Installation Test">Installation Test</a></div></div></div><div class="global-ui"></div></div>
    <script src="/cosigtdoc/assets/js/app.ea2c52ed.js" defer></script><script src="/cosigtdoc/assets/js/3.d0293945.js" defer></script><script src="/cosigtdoc/assets/js/2.bc6597f8.js" defer></script><script src="/cosigtdoc/assets/js/1.50924563.js" defer></script><script src="/cosigtdoc/assets/js/14.3e4a7b1f.js" defer></script><script src="/cosigtdoc/assets/js/55.37f9a0c0.js" defer></script>
  </body>
</html>
